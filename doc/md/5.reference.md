## 9. Compendio de Tutoriales de Referencia de la API

A continuación, se presenta un desglose técnico detallado para cada entidad exportada por la biblioteca, diseñado para servir como guía de implementación normativa.

### 9.1. Referencia del Módulo DOM (dom.ts)

#### 9.1.1. element

* **Sinopsis Técnica:** Función factoría primaria para la instanciación de nodos DOM y la inicialización de la interfaz constructora fluida (`HTMLElementBuilder`).
* **Firma:** `element(target: ElementTarget): HTMLElementBuilder`
* **Tutorial de Implementación:**
```typescript
    // Caso A: Instanciación mediante Cadena Emmet
    const btn = element('button.primary#submit-btn[type="submit"]{Enviar}').resume();

    // Caso B: Decoración de Elemento Existente
    const existingNode = document.getElementById('app');
    if (existingNode) {
        element(existingNode).addClass('initialized');
    }

    // Caso C: Composición Funcional
    const MyComponent = (h) => ({ 
        tag: 'div', 
        class: 'wrapper', 
        children: [h.br, 'Texto'] 
    });
    element(MyComponent).resume();
```

#### 9.1.2. StyleSingleton

* **Sinopsis Técnica:** Objeto estático para la gestión centralizada de estilos globales o compartidos, implementando un patrón Singleton para evitar la duplicidad de inyecciones en el DOM.
* **Interfaz:** `{ styles: Record<string, any>, add(id, css), update() }`
* **Tutorial de Implementación:**
```typescript
    // Registro de un módulo de estilos
    StyleSingleton.add('modulo-navegacion', {
        'nav': { display: 'flex', gap: 20 },
        'nav a': { textDecoration: 'none' }
    });

    // Nota: La invocación de .add() dispara automáticamente .update(),
    // regenerando el elemento <style id="fluid-ui"> en el head.
```

### 9.2. Referencia del Módulo Motor CSS (toCSS.ts)

#### 9.2.1. toCSS

* **Sinopsis Técnica:** Motor de compilación que transmuta objetos de configuración de estilos en cadenas CSS sintácticamente válidas.
* **Firma:** `toCSS(options: ToCSSOptions): string`
* **Tutorial de Implementación:**
```typescript
const cssOutput = toCSS({
    inferir: true, // Habilitar inferencia de unidades (px)
    clasesKebab: true, // Convertir camelCase
    vars: { mainColor: 'blue' }, // Definición de variables CSS
    '.container': {
        width: 100, // Inferencia -> 100px
        zIndex: 5,  // Exclusión -> 5
        backgroundColor: 'var(--main-color)'
    }
});
// Resultado: "--main-color: blue; .container { width: 100px; z-index: 5; background-color: var(--main-color); }"
```

#### 9.2.2. fmtJSON

* **Sinopsis Técnica:** Utilidad de bajo nivel para el formateo de cadenas JSON a sintaxis CSS. Generalmente de uso interno, pero expuesta para depuración avanzada.
* **Firma:** `fmtJSON(json: string): string`
* **Tutorial de Implementación:**
```typescript
const rawJson = JSON.stringify({ "color": "red", "margin-top": "10px" });
const cssBody = fmtJSON(rawJson); 
// Transforma: {"key":"val"} -> {key:val;} eliminando comillas y ajustando delimitadores.
```

### 9.3. Referencia del Módulo de Inyección (insertStyle.ts)

#### 9.3.1. insertStyle

* **Sinopsis Técnica:** Mecanismo de inyección de estilos en el documento activo. Gestiona la creación, recuperación y actualización de elementos `<style>`.
* **Firma:** `insertStyle(opt: InsertStyleInput): HTMLStyleElement`
* **Tutorial de Implementación:**
```typescript
    // Inyección Básica
    insertStyle({ 
        id: 'tema-oscuro', 
        css: { 'body': { backgroundColor: '#333', color: '#fff' } } 
    });

    // Actualización (Idempotencia)
    // Si se invoca nuevamente con el mismo ID, se actualiza el contenido 
    // en lugar de crear un nuevo nodo DOM, previniendo fugas de memoria.
```

### 9.4. Referencia del Módulo de Auxiliares (helpers.ts)

#### 9.4.1. HELPERS

* **Sinopsis Técnica:** Objeto contenedor que agrupa todas las utilidades y constantes funcionales. Se inyecta automáticamente en las funciones de estilo.
* **Tutorial de Implementación:**
```typescript
    // Uso dentro de una definición de estilos dinámica
    const style = (h) => ({
        div: {
            display: h.flex, // Constante "flex"
            boxShadow: h.boxShadow({ dY: 2, blur: 5 }), // Función helper
            color: h.important('red') // Modificador
        }
    });
```

#### 9.4.2. Generadores de Color (hsl, rgb, hslFrom, rgbFrom, lightDark)

* **Sinopsis Técnica:** Funciones para la generación de cadenas de color conformes al estándar CSS Color Module 5.
* **Tutorial de Implementación:**
```typescript
    // Colores Estándar
    const c1 = hsl(200, 50, 50); // "hsl(200, 50%, 50%)"

    // Colores Relativos (Sintaxis 'from')
    const c2 = hslFrom((c, u) => [
        c.var('color-base'), // Origen
        c.h,                 // Hue inalterado
        c.mult(c.s, 0.8),    // Saturación reducida al 80%
        c.l                  // Luminosidad inalterada
    ]);

    // Esquema Claro/Oscuro
    const c3 = lightDark('black', 'white'); // "light-dark(black, white)"
```

#### 9.4.3. Lógica y Matemáticas (calc, cssVar, range)

* **Sinopsis Técnica:** Abstracciones para operaciones lógicas en CSS y generación de secuencias en JS.
* **Tutorial de Implementación:**
```typescript
    // Cálculo CSS
    const width = calc(sub('100vw', '20px')); // "calc(100vw - 20px)"

    // Variables CSS Seguras
    const v = cssVar('spacing-sm', '10px'); // "var(--spacing-sm, 10px)"

    // Generación de Rangos (JS util)
    const steps = range(0, 100, 10); // [0, 10, 20, ..., 90]
```

#### 9.4.4. Diseño Fluido (lerpcss)

* **Sinopsis Técnica:** Implementación de interpolación lineal para valores responsivos sin puntos de ruptura (breakpoints).
* **Tutorial de Implementación:**
```typescript
    const responsiveFont = lerpcss({
        from: { value: 16, width: 400 }, // Valor inicial y ancho de viewport inicial
        to: { value: 24, width: 1100 },  // Valor final y ancho de viewport final
        unit: 'px' // Unidad de salida
    });
    // Retorna una expresión `clamp(...)` compleja.
```

#### 9.4.5. Propiedades Complejas (transform, transition, boxShadow, border)

* **Sinopsis Técnica:** Constructores (Builders) para propiedades CSS que requieren sintaxis compuesta específica.
* **Tutorial de Implementación:**
```typescript
    // Transformaciones
    const tf = transform()
        .translate(10, 20)
        .rotate(45)
        .scale(1.2)
        .str(); // "translate(10px, 20px) rotate(45deg) scale(1.2)"

    // Transiciones Múltiples
    const tr = transition({
        opacity: 0.3,
        transform: { time: 0.5, bezier: [0.4, 0, 0.2, 1] }
    }); // "opacity 0.3s ease, transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)"
```

#### 9.4.6. Unidades y Modificadores (px, rem, important, url)

* **Sinopsis Técnica:** Funciones auxiliares para el sufijado de unidades y construcción de cadenas de recursos.
* **Tutorial de Implementación:**
```typescript
    const val1 = px(15);         // "15px"
    const val2 = rem(1.5);       // "1.5rem"
    const val3 = important(val1);// "15px !important"
    const res  = url('img.png'); // "url(\"img.png\")"
```
