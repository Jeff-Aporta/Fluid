## 9. Compendio de Tutoriales de Referencia de la API

A continuación, se presenta un desglose técnico detallado para cada entidad exportada por la biblioteca, diseñado para servir como guía de implementación normativa.

### 9.1. Referencia del Módulo DOM (dom.ts)

#### 9.1.1. element

* **Sinopsis Técnica:** Función factoría primaria para la instanciación de nodos DOM y la inicialización de la interfaz constructora fluida (`HTMLElementBuilder`).
* **Firma:** `element(target: ElementTarget): HTMLElementBuilder`
* **Tutorial de Implementación:**
```typescript
    /** Caso A: Instanciación mediante Cadena Emmet */
    const btn = element('button.primary#submit-btn[type="submit"]{Enviar}').resume()

    /** Caso B: Decoración de Elemento Existente */
    const existingNode = document.getElementById('app')
    if (existingNode) {
        element(existingNode).addClass('initialized')
    }

    /** Caso C: Composición Funcional */
    const MyComponent = ({br}) => ({div: {class: 'wrapper', children: [br, 'Texto']}});
    element(MyComponent).resume()
```

#### 9.1.2. StyleSingleton

* **Sinopsis Técnica:** Objeto estático para la gestión centralizada de estilos globales o compartidos, implementando un patrón Singleton para evitar la duplicidad de inyecciones en el DOM.
* **Interfaz:** `{ styles: Record<string, any>, add(id, css), update() }`
* **Tutorial de Implementación:**
```typescript
    /** Registro de un módulo de estilos */
    StyleSingleton.add('modulo-navegacion', {
        'nav': {display: 'flex', gap: 20},
        'nav a': {textDecoration: 'none'}
    })

    /** Nota: La invocación de .add() dispara automáticamente .update(), 
     * regenerando el elemento <style id="fluid-ui"> en el head. */
```

### 9.2. Referencia del Módulo Motor CSS (toCSS.ts)

#### 9.2.1. toCSS

* **Sinopsis Técnica:** Motor de compilación que transmuta objetos de configuración de estilos en cadenas CSS sintácticamente válidas.
* **Firma:** `toCSS(options: ToCSSOptions): string`
* **Tutorial de Implementación:**
```typescript
    const cssOutput = toCSS({
        ":root": {
            "--main-color": "blue"
        },
        vars: {mainColor: 'blue'}, /** Definición de variables CSS */
        '.container': {
            width: 100, /** Inferencia -> 100px */
            zIndex: 5,  /** Exclusión -> 5 */
            backgroundColor: 'var(--main-color)'
        }
    })
    console.log(cssOutput) /** Resultado:
      :root { 
        --main-color: blue; 
      } 
      .container {
        width: 100px; 
        z-index: 5; 
        background-color: var(--main-color); 
      }
    */
```

#### 9.2.2. fmtJSON

* **Sinopsis Técnica:** Utilidad de bajo nivel para el formateo de cadenas JSON a sintaxis CSS. Generalmente de uso interno, pero expuesta para depuración avanzada.
* **Firma:** `fmtJSON(json: string): string`
* **Tutorial de Implementación:**
```typescript
    const rawJson = JSON.stringify({color: "red", "margin-top": "10px"})
    const cssBody = fmtJSON(rawJson)
    console.log(cssBody) /** Transforma json a css, de forma muy basica y sin inferencias: 
    
        {color:"red", "margin-top":"10px"} ->  color:red;margin-top:10px; 

        Nota: Eliminando comillas y ajustando delimitadores. 
    */
```

### 9.3. Referencia del Módulo de Inyección (insertStyle.ts)

#### 9.3.1. insertStyle

* **Sinopsis Técnica:** Mecanismo de inyección de estilos en el documento activo. Gestiona la creación, recuperación y actualización de elementos `<style>`.
* **Firma:** `insertStyle(opt: InsertStyleInput): HTMLStyleElement`
* **Tutorial de Implementación:**
```typescript
    insertStyle({
        id: 'tema-oscuro',
        css: {'body': {backgroundColor: '#333', color: '#fff'}}
    })
    /* Propiedad Idempotente: 
         Si se invoca nuevamente con el mismo ID: 
            - se sobreescribe el contenido en lugar de crear un nuevo nodo DOM, 
              previniendo duplicidad innecesaria en el DOM. */
```

### 9.4. Referencia del Módulo de Auxiliares (helpers.ts)

#### 9.4.1. HELPERS

* **Sinopsis Técnica:** Objeto contenedor que agrupa todas las utilidades y constantes funcionales. Se inyecta automáticamente en las funciones de estilo.
* **Tutorial de Implementación:**
```typescript
    ($: HELPERS) => ({
        div: {
            display: $.flex, /* Constante "flex" */
            boxShadow: {dY: 2, blur: 5}, /* Inferencia de estructura */
            color: $.important('red') /* Modificador */
        }
    })
```

#### 9.4.2. Generadores de Color (hsl, rgb, hslFrom, rgbFrom, lightDark)

* **Sinopsis Técnica:** Funciones para la generación de cadenas de color conformes al estándar CSS Color Module 5.
* **Tutorial de Implementación:**
```typescript
    /** Colores Estándar */
    const style = toCSS($=>{
        ".ejemplo-hsl": {color: $.hsl(200, 50, 50)} /* "hsl(200, 50%, 50%)" */
        /* Sintaxis 'from' */
        ".ejemplo-hsl-from": {
            color: $.hslFrom((c, u) => [
                c.var('color-base'), /* Origen */
                c.h,                 /* Hue inalterado */
                c.mult(c.s, 0.8),    /* Saturación reducida al 80% */
                c.l                  /* Luminosidad inalterada */
            ])
        }
        ".ejemplo-light-dark": { /* Esquema Claro/Oscuro */
            color: $.lightDark('black', 'white') /* "light-dark(black, white)" */
        }
    })
    console.log(style) /* Resultado esperado:
        .ejemplo-hsl { color: hsl(200, 50%, 50%); }
        .ejemplo-hsl-from { color: hsl-from(var(--color-base), h, (s * 0.8), l); }
        .ejemplo-light-dark { color: light-dark(black, white); }
    */
```

#### 9.4.3. Lógica y Matemáticas (calc, cssVar, range)

* **Sinopsis Técnica:** Abstracciones para operaciones lógicas en CSS y generación de secuencias en JS.
* **Tutorial de Implementación:**
```typescript
    /** Cálculo CSS */
    const style = toCSS($=>{
        ".calc-example": {width: $.calc($.sub($.vw(100), $.px(20)))} /* "calc(100vw - 20px)" */
        ".var-example": {margin: $.cssVar('spacing-sm', $.px(10))} /* "var(--spacing-sm, 10px)" */
        ".var-example2": {margin: $.cssVar({spacingSm: $.px(20)})} /* "var(--spacing-sm, 20px)" */
        
        /* Generación de Rangos para clases utilitarias */
        ...$.rangeMapEntries(0, 100, 10, val => [
            `.w-${val}p`, {width: $.percent(val)} 
        ]) 
    })
    
    console.log(style) /* Resultado:
        .calc-example { width: calc(100vw - 20px); }
        .var-example { margin: var(--spacing-sm, 10px); }
        .var-example2 { margin: var(--spacing-sm, 20px); }
        .w-0p { width: 0%; }
        .w-10p { width: 10%; }
        ...
        .w-100p { width: 100%; }
    */
```

#### 9.4.4. Diseño Fluido (lerpcss)

* **Sinopsis Técnica:** Implementación de interpolación lineal para valores responsivos sin puntos de ruptura (breakpoints).
* **Tutorial de Implementación:**
```typescript
    const style = toCSS($=>{
        ".responsive-text": {
            fontSize: $.lerpcss({
                from: {value: 16, width: 400}, /* Valor inicial y ancho de viewport inicial */
                to: {value: 24, width: 1100},  /* Valor final y ancho de viewport final */
                unit: 'px' /* Unidad de salida */
            })
        }
    })
    console.log(style) /* Resultado:
        .responsive-text { font-size: clamp(16px, 0.9143rem + 1.1429vw, 24px); }
    */
```

#### 9.4.5. Propiedades Complejas (transform, transition, boxShadow, border)

* **Sinopsis Técnica:** Constructores (Builders) para propiedades CSS que requieren sintaxis compuesta específica.
* **Tutorial de Implementación:**
```typescript
    const style = toCSS($=>{
        ".transform-box": {
             transform: $.transform()
                .translate($.px(10), $.px(20))
                .rotate($.deg(45))
                .scale(1.2)
        },
        ".transition-box": {
            transition: {
                opacity: 0.3,
                transform: {time: $.s(0.5), bezier: [0.4, 0, 0.2, 1]}
            }
        }
    })
    console.log(style) /* Resultado:
        .transform-box { transform: translate(10px, 20px) rotate(45deg) scale(1.2); }
        .transition-box { transition: opacity 0.3s ease, transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
    */
```

#### 9.4.6. Unidades y Modificadores (px, rem, important, url)

* **Sinopsis Técnica:** Funciones auxiliares para el sufijado de unidades y construcción de cadenas de recursos.
* **Tutorial de Implementación:**
```typescript
    const style = toCSS($=>{
        ".units-example": {
            margin: $.px(15),           /* "15px" */
            padding: $.rem(1.5),        /* "1.5rem" */
            display: $.important($.block), /* "block !important" */
            backgroundImage: $.url('img.png') /* "url('img.png')" */
        }
    })
    console.log(style) /* Resultado:
        .units-example { margin: 15px; padding: 1.5rem; display: block !important; background-image: url("img.png"); }
    */
```
